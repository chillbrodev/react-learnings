(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(49)},25:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),o=a.n(s),c=(a(25),a(1)),l=a(2),i=a(5),m=a(3),u=a(4),h=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"title"},"Welcome to Sum it Up!",r.a.createElement("br",null),"RULES:",r.a.createElement("br",null),"Select up to ",this.props.answerSize," numbers to make a sum.",r.a.createElement("br",null),"Sums made in a row result in a streak.",r.a.createElement("br",null),"The longer the streak the higher the score!",r.a.createElement("br",null)),r.a.createElement("div",{className:"footer"},r.a.createElement("button",{className:"btn",onClick:this.props.showGameComponent},"Play Game"),r.a.createElement("button",{className:"btn",onClick:this.props.showLeaderboardComponent},"Show Leaderboard")))}}]),t}(n.Component),d=a(11),p=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.clickable&&a.props.onClick(a.props.id)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"number",style:{opacity:this.props.clickable?1:.3},onClick:this.handleClick},this.props.value)}}]),t}(n.PureComponent),g=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"timer-value"}," ",this.props.value," "))}}]),t}(n.Component),S=a(10),b=function(e,t){var a=Math.random();return Math.floor(a*(t-e)+e)},v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={gameStatus:t.gameStatusEnum.new,remainingSeconds:a.props.initialSeconds,selectedIds:[],currentSum:0,matchCount:0,streakCount:0,longestStreak:0},a.isNumberAvailable=function(e){return-1===a.state.selectedIds.indexOf(e)},a.startGame=function(){a.challengeNumbers=Array.from({length:a.props.challengeSize}).map(function(){return b.apply(void 0,Object(d.a)(a.props.challengeRange))}),a.target=Object(S.sum)(Object(S.sampleSize)(a.challengeNumbers,a.props.answerSize)),a.setState({gameStatus:t.gameStatusEnum.playing,selectedIds:[],currentSum:0},function(){a.intervalId=setInterval(function(){a.setState(function(e){var n=e.remainingSeconds-1;return 0===n?(clearInterval(a.intervalId),{gameStatus:t.gameStatusEnum.over,remainingSeconds:0}):{remainingSeconds:n}})},1e3)})},a.selectNumber=function(e){a.setState(function(n){if(n.gameStatus!==t.gameStatusEnum.playing)return null;var r=[].concat(Object(d.a)(n.selectedIds),[e]),s=r.reduce(function(e,t){return e+a.challengeNumbers[t]},0),o=a.calcGameStatus(r),c=n.streakCount,l=n.matchCount,i=n.longestStreak;return o===t.gameStatusEnum.match?((c=n.streakCount+=1)>=n.longestStreak&&(console.log("Longest Streak Increase"),i=n.longestStreak+=1),l=n.matchCount+=1):o===t.gameStatusEnum.miss&&(c=0),{selectedIds:r,gameStatus:o,currentSum:s,streakCount:c,matchCount:l,longestStreak:i}},function(){a.state.gameStatus!==t.gameStatusEnum.playing&&clearInterval(a.intervalId)})},a.calcGameStatus=function(e){var n=e.reduce(function(e,t){return e+a.challengeNumbers[t]},0);return e.length!==a.props.answerSize?n===a.target?(console.log("Streak Increase"),t.gameStatusEnum.match):t.gameStatusEnum.playing:(console.log("Matched: ".concat(a.props.answerSize," numbers")),n===a.target?(console.log("Streak Increase"),t.gameStatusEnum.match):(console.log("Streak Reset"),t.gameStatusEnum.miss))},a.challengeNumbers=[],a.target="?",a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.startGame()}},{key:"componentDidUpdate",value:function(){var e=this.state,a=e.gameStatus,n=e.longestStreak,r=e.matchCount;a===t.gameStatusEnum.over&&(console.log("GameOver"),clearInterval(this.intervalId),this.props.gameOver(r,n)),[t.gameStatusEnum.match,t.gameStatusEnum.miss].includes(a)&&(console.log("Match or Miss: Start Game"),this.startGame())}},{key:"render",value:function(){var e,a=this,n=this.state,s=n.gameStatus,o=n.remainingSeconds,c=n.currentSum,l=n.streakCount,i=n.matchCount;return l>=3&&(e=t.bgColors.streak),r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"score-count"},"Score: ",i),s===t.gameStatusEnum.playing&&r.a.createElement(g,{value:o}),r.a.createElement("div",{className:"streak-count",style:{color:e}},"Streak: ",l)),"Target Sum:",r.a.createElement("div",{className:"target",style:{backgroundColor:t.bgColors[s]}},s===t.gameStatusEnum.new?"?":this.target),"Current Sum:",r.a.createElement("div",{className:"target"},c),r.a.createElement("div",{className:"challenge-numbers"},this.challengeNumbers.map(function(e,n){return r.a.createElement(p,{key:n,id:n,value:a.state.gameStatus===t.gameStatusEnum.new?"?":e,clickable:a.isNumberAvailable(n),onClick:a.selectNumber})})))}}]),t}(n.Component);v.bgColors={new:"lightblue",playing:"deepskyblue",over:"lightgreen",streak:"darkorange"},v.gameStatusEnum={new:"new",over:"over",playing:"playing",match:"match",miss:"miss"},v.getColorFromStatus=function(){return v.bgColors[(void 0).state.gameStatus]};var f=v,E=0,k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return E++,"".concat(e).concat(E)},y=a(8),C=a.n(y),O="".concat("https://jg83vtnwdj.execute-api.us-east-2.amazonaws.com","/Dev"),w={DEV:{ALL_SCORES_API:"".concat(O,"/scores"),SAVE_SCORE_API:"".concat(O,"/scores")}},j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={userScores:{data:[{userName:"",score:0}]}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.a.get(w.DEV.ALL_SCORES_API).then(function(t){console.log(JSON.stringify(t.data));var a=t.data;e.setState({userScores:a})})}},{key:"render",value:function(){var e=this.state.userScores.data.filter(function(e){return e.score>0}).map(function(e){return r.a.createElement("tbody",{key:k()},r.a.createElement("tr",null,r.a.createElement("td",{key:e.userName},e.userName),r.a.createElement("td",{key:e.score},e.score)))});return r.a.createElement("div",null,"Welcome to the Leaderboard",r.a.createElement("br",null),r.a.createElement("table",null,e),r.a.createElement("div",{className:"footer"},r.a.createElement("button",{className:"btn",onClick:this.props.showTitleComponent},"Go to Menu")))}}]),t}(n.Component),N=(a(47),a(7)),G=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={userName:""},a.handleUserNameChange=a.handleUserNameChange.bind(Object(N.a)(Object(N.a)(a))),a.handleFormSubmit=a.handleFormSubmit.bind(Object(N.a)(Object(N.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleUserNameChange",value:function(e){this.setState({userName:e.target.value})}},{key:"handleFormSubmit",value:function(e){var t=this;console.log("A name was submitted: \n    UserName: ".concat(this.state.userName,"\n    TotalScore: ").concat(this.state.finalScore)),e.preventDefault(),C.a.put(w.DEV.SAVE_SCORE_API,{userName:this.state.userName,score:this.state.finalScore},{headers:{Accept:"application/json"}}).then(function(){t.props.showTitleComponent()}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){var e,t=this.props,a=t.gameScore,n=t.gameStreak;e=this.props.gameStreak>0?a*n+1:a+1,this.setState({finalScore:e,baseScore:a,longestStreak:n})}},{key:"render",value:function(){var e=this.state,t=e.finalScore,a=e.baseScore,n=e.longestStreak;return r.a.createElement("div",null,"Base Score: ",a,r.a.createElement("br",null),"Longest Steak: ",n,r.a.createElement("br",null),"Total Score: ",t,r.a.createElement("form",null,r.a.createElement("label",null,"UserName:",r.a.createElement("input",{type:"text",value:this.state.userName,onChange:this.handleUserNameChange})),r.a.createElement("button",{type:"submit",className:"btn",onClick:this.handleFormSubmit},"Submit")),r.a.createElement("br",null))}}]),t}(n.Component),I=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={displayGame:!1,displayLeader:!1,displayGameOver:!1,answerSize:4},a.showGameComponent=function(){a.setState({displayGame:!a.state.displayGame})},a.showLeaderboardComponent=function(){console.log("Display Leaderboard"),a.setState({displayLeader:!a.state.displayLeader})},a.showGameOverComponent=function(e,t){console.log("Display Gameover/Score Screen"),a.setState({displayGameOver:!a.state.displayGameOver,displayGame:!1,displayLeader:!1,gameScore:e,gameStreaks:t})},a.showTitleComponent=function(){console.log("Display Title Screen"),a.setState({displayGame:!1,displayLeader:!1,displayGameOver:!1})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this.state,a=t.displayGame,n=t.displayLeader,s=t.displayGameOver,o=t.gameScore,c=t.gameStreaks;return e=a?r.a.createElement(f,{key:k(),challengeSize:6,challengeRange:[2,9],initialSeconds:60,answerSize:this.state.answerSize,gameOver:this.showGameOverComponent}):n?r.a.createElement(j,{gameId:k(),showTitleComponent:this.showTitleComponent}):s?r.a.createElement(G,{gameId:k(),showTitleComponent:this.showTitleComponent,showLeaderboardComponent:this.showLeaderboardComponent,gameScore:o,gameStreak:c}):r.a.createElement(h,{gameId:k(),answerSize:this.state.answerSize,showGameComponent:this.showGameComponent,showLeaderboardComponent:this.showLeaderboardComponent}),r.a.createElement("div",null,e)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.72d0c312.chunk.js.map